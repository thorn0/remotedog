1. RemoteDog подключается к ПК с помощью стандартного USB. В системе видится как обыкновенный com-порт. Если драйвера не установились автоматически, их можно найти в папке /Drivers либо скачать на http://www.ftdichip.com/Drivers/VCP.htm
2. RemoteDog подключается к ПДУ с помощью штекера. Штекер нужно вставить до конца. Не рекомендуется прилагать силу к штекеру и разъему ПДУ. Не рекомендуется тянуть за шнур штекера.
3. Когда RemoteDog подключен к ПДУ, не имеет значения, включен ли ПДУ, был ли он недавно включен, отображается ли какая-либо информация на экране ПДУ. Вы можете использовать RemoteDog как питая ПДУ от встроенного аккумулятора (разрядка ожидается не больше, чем при ручном использовании), так и подключив кабель зарядки к ПДУ. На работоспособность RemoteDog все вышеперечисленные факторы абсолютно не влияют. Единственное условие: либо заряженный аккумулятор ПДУ, либо подключение кабеля зарядки, т.к. передатчик ПДУ не получает питания от RemoteDog.
4. Управление RemoteDog осуществляется путем отправки подготовленной команды в com-порт. com-порт необходимо открыть на скорости 9600 бод. Требуется не посылать команду reset при открытии, либо подождать три секунды перед использованием (возможно требования менее жестки, необходимы уточнения). После открытия порта его можно не закрывать все время использования и просто слать команды, т.е. паузы перед выполнением не будет.
5. Для отладки можно использовать любой терминал, например http://realterm.sourceforge.net/ . Не забыть выбрать нужный порт, если он не выбран и скорость 9600. Отправку команд можно осуществлять с вкладки send. Рекомендуем убедиться в работоспособности устройства с помощью терминала перед написанием своих библиотек.
6. Чтобы команда была принята, нужно завершить строку в конце команды. В зависимости от софта это могут быть галочки lf и 'new line'. Можно не бояться экспериментировать, простой посылкой бреда в RemoteDog его не сломать.
7. После отправки команды, если устройство ее приняло, оно ответит Message!, длину команды и Sent., когда команда будет послана ПДУ. Во вермя посылки команды ПДУ будет гореть (моргнет) белый светодиод.
8. Библиотека подготовленных команд находится в файле /Sender/lib.json.
9. В зависимости от характера нажатия на кнопку "Y", ПДУ отсылает от одного до трех одинаковых пакетов ошейнику. В случае быстрого легкого нажатия посылается один пакет. Однако в этом случае ошейник может не среагировать на команду. Обычное нажатие обычно приводит к посылке двух пакетов. В этом случае ошейник работает стабильно. Молодецкое нажатие отсылает до трех пакетов за раз. Следовательно, этих же рекомендаций следует придерживаться при отсылке команд через RemoteDog: один пакет, как и легкое нажатие кнопки ПДУ, будет срабатывать 4 из 5 раз; двойной и тройной пакеты срабатывают всегда. RemoteDog не поддерживает отсылку более трех пакетов одной командой. Рекомендуется двойной пакет.
10. Чтобы отослать команду с одним пакетом, команда должна быть равна соответствующей строке из lib.json. Не следует забывать new line, или lf, или что там заработает после экспериментов.
Чтобы отослать команду из двух или трех пакетов, следует повторить строку из lib.json два или три раза соответственно _одной строкой_, разделив повторы символом 'p'. Запятые значения не имеют.
11. Я пробовал использовать https://github.com/voodootikigod/node-serialport для написания сервера, но до достойного прототипа так и не добрался.
12. /Sender/Sender.ino - прошивка RemoteDog.
13. /Dumper/Dumper.ino - прошивка дампера команд ПДУ. Если прошить ее, в com-порт будут лететь дампы каждый раз, когда ПДУ отправляет команду ошейнику по нажатию кнопки "Y". Команды с ПК в этом режиме не принимаются.